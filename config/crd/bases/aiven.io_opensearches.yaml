---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.15.0
  name: opensearches.aiven.io
spec:
  group: aiven.io
  names:
    kind: OpenSearch
    listKind: OpenSearchList
    plural: opensearches
    singular: opensearch
  scope: Namespaced
  versions:
    - additionalPrinterColumns:
        - jsonPath: .spec.project
          name: Project
          type: string
        - jsonPath: .spec.cloudName
          name: Region
          type: string
        - jsonPath: .spec.plan
          name: Plan
          type: string
        - jsonPath: .status.state
          name: State
          type: string
      name: v1alpha1
      schema:
        openAPIV3Schema:
          description: |-
            OpenSearch is the Schema for the opensearches API.
            Info "Exposes secret keys": `OPENSEARCH_HOST`, `OPENSEARCH_PORT`, `OPENSEARCH_USER`, `OPENSEARCH_PASSWORD`, `OPENSEARCH_URI`
          properties:
            apiVersion:
              description: |-
                APIVersion defines the versioned schema of this representation of an object.
                Servers should convert recognized schemas to the latest internal value, and
                may reject unrecognized values.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
              type: string
            kind:
              description: |-
                Kind is a string value representing the REST resource this object represents.
                Servers may infer this from the endpoint the client submits requests to.
                Cannot be updated.
                In CamelCase.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
              type: string
            metadata:
              type: object
            spec:
              description: OpenSearchSpec defines the desired state of OpenSearch
              properties:
                authSecretRef:
                  description: Authentication reference to Aiven token in a secret
                  properties:
                    key:
                      minLength: 1
                      type: string
                    name:
                      minLength: 1
                      type: string
                  required:
                    - key
                    - name
                  type: object
                cloudName:
                  description: Cloud the service runs in.
                  maxLength: 256
                  type: string
                connInfoSecretTarget:
                  description: Secret configuration.
                  properties:
                    annotations:
                      additionalProperties:
                        type: string
                      description: Annotations added to the secret
                      type: object
                      x-kubernetes-preserve-unknown-fields: true
                    labels:
                      additionalProperties:
                        type: string
                      description: Labels added to the secret
                      type: object
                      x-kubernetes-preserve-unknown-fields: true
                    name:
                      description:
                        Name of the secret resource to be created. By default,
                        it is equal to the resource name
                      type: string
                      x-kubernetes-validations:
                        - message: Value is immutable
                          rule: self == oldSelf
                    prefix:
                      description: |-
                        Prefix for the secret's keys.
                        Added "as is" without any transformations.
                        By default, is equal to the kind name in uppercase + underscore, e.g. `KAFKA_`, `REDIS_`, etc.
                      type: string
                  required:
                    - name
                  type: object
                connInfoSecretTargetDisabled:
                  description:
                    When true, the secret containing connection information
                    will not be created, defaults to false. This field cannot be changed
                    after resource creation.
                  type: boolean
                  x-kubernetes-validations:
                    - message: connInfoSecretTargetDisabled is immutable.
                      rule: self == oldSelf
                disk_space:
                  description: |-
                    The disk space of the service, possible values depend on the service type, the cloud provider and the project.
                    Reducing will result in the service re-balancing.
                    The removal of this field does not change the value.
                  pattern: (?i)^[1-9][0-9]*(GiB|G)?$
                  type: string
                maintenanceWindowDow:
                  description:
                    Day of week when maintenance operations should be performed.
                    One monday, tuesday, wednesday, etc.
                  enum:
                    - monday
                    - tuesday
                    - wednesday
                    - thursday
                    - friday
                    - saturday
                    - sunday
                  type: string
                maintenanceWindowTime:
                  description:
                    Time of day when maintenance operations should be performed.
                    UTC time in HH:mm:ss format.
                  maxLength: 8
                  type: string
                plan:
                  description: Subscription plan.
                  maxLength: 128
                  type: string
                powered:
                  default: true
                  description: |-
                    Determines the power state of the service. When `true` (default), the service is running.
                    When `false`, the service is powered off.
                    For more information please see [Aiven documentation](https://aiven.io/docs/platform/concepts/service-power-cycle).
                    Note that:
                    - When set to `false` the annotation `controllers.aiven.io/instance-is-running` is also set to `false`.
                    - Services cannot be created in a powered off state. The value is ignored during creation.
                    - It is highly recommended to not run dependent resources when the service is powered off.
                      Creating a new resource or updating an existing resource that depends on a powered off service will result in an error.
                      Existing resources will need to be manually recreated after the service is powered on.
                    - Existing secrets will not be updated or removed when the service is powered off.
                    - For Kafka services with backups: Topic configuration, schemas and connectors are all backed up, but not the data in topics. All topic data is lost on power off.
                    - For Kafka services without backups: Topic configurations including all topic data is lost on power off.
                  type: boolean
                project:
                  description: Identifies the project this resource belongs to
                  maxLength: 63
                  pattern: ^[a-zA-Z0-9_-]+$
                  type: string
                  x-kubernetes-validations:
                    - message: Value is immutable
                      rule: self == oldSelf
                projectVPCRef:
                  description:
                    ProjectVPCRef reference to ProjectVPC resource to use
                    its ID as ProjectVPCID automatically
                  properties:
                    name:
                      minLength: 1
                      type: string
                    namespace:
                      minLength: 1
                      type: string
                  required:
                    - name
                  type: object
                projectVpcId:
                  description: Identifier of the VPC the service should be in, if any.
                  maxLength: 36
                  type: string
                serviceIntegrations:
                  description:
                    Service integrations to specify when creating a service.
                    Not applied after initial service creation
                  items:
                    description:
                      Service integrations to specify when creating a service.
                      Not applied after initial service creation
                    properties:
                      integrationType:
                        enum:
                          - read_replica
                        type: string
                      sourceServiceName:
                        maxLength: 64
                        minLength: 1
                        type: string
                    required:
                      - integrationType
                      - sourceServiceName
                    type: object
                  maxItems: 1
                  type: array
                  x-kubernetes-validations:
                    - message: Value is immutable
                      rule: self == oldSelf
                tags:
                  additionalProperties:
                    type: string
                  description:
                    Tags are key-value pairs that allow you to categorize
                    services.
                  type: object
                technicalEmails:
                  description:
                    Defines the email addresses that will receive alerts
                    about upcoming maintenance updates or warnings about service instability.
                  items:
                    properties:
                      email:
                        description: Email address.
                        pattern: ^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$
                        type: string
                    required:
                      - email
                    type: object
                  maxItems: 10
                  type: array
                terminationProtection:
                  description:
                    Prevent service from being deleted. It is recommended
                    to have this enabled for all services.
                  type: boolean
                userConfig:
                  description: OpenSearch specific user configuration options
                  properties:
                    additional_backup_regions:
                      description: Additional Cloud Regions for Backup Replication
                      items:
                        type: string
                      maxItems: 1
                      type: array
                    azure_migration:
                      description: Azure migration settings
                      properties:
                        account:
                          description: Account name
                          pattern: ^[^\r\n]*$
                          type: string
                        base_path:
                          description:
                            The path to the repository data within its container.
                            The value of this setting should not start or end with a
                            /
                          pattern: ^[^\r\n]*$
                          type: string
                        chunk_size:
                          description:
                            Big files can be broken down into chunks during
                            snapshotting if needed. Should be the same as for the 3rd
                            party repository
                          pattern: ^[^\r\n]*$
                          type: string
                        compress:
                          description:
                            when set to true metadata files are stored in
                            compressed format
                          type: boolean
                        container:
                          description: Azure container name
                          pattern: ^[^\r\n]*$
                          type: string
                        endpoint_suffix:
                          description: Defines the DNS suffix for Azure Storage endpoints.
                          pattern: ^[^\r\n]*$
                          type: string
                        include_aliases:
                          description:
                            Whether to restore aliases alongside their associated
                            indexes. Default is true.
                          type: boolean
                        indices:
                          description:
                            A comma-delimited list of indices to restore
                            from the snapshot. Multi-index syntax is supported.
                          pattern: ^(\*?[a-z0-9._-]*\*?|-\*?[a-z0-9._-]*\*?)(,(\*?[a-z0-9._-]*\*?|-\*?[a-z0-9._-]*\*?))*[,]?$
                          type: string
                        key:
                          description:
                            Azure account secret key. One of key or sas_token
                            should be specified
                          pattern: ^[^\r\n]*$
                          type: string
                        readonly:
                          description: Whether the repository is read-only.
                          type: boolean
                        restore_global_state:
                          description:
                            If true, restore the cluster state. Defaults
                            to false
                          type: boolean
                        sas_token:
                          description:
                            A shared access signatures (SAS) token. One of
                            key or sas_token should be specified
                          pattern: ^[^\r\n]*$
                          type: string
                        snapshot_name:
                          description: The snapshot name to restore from
                          pattern: ^[^\r\n]*$
                          type: string
                      required:
                        - account
                        - base_path
                        - container
                        - indices
                        - snapshot_name
                      type: object
                    custom_domain:
                      description:
                        Serve the web frontend using a custom CNAME pointing
                        to the Aiven DNS name. When you set a custom domain for a service
                        deployed in a VPC, the service certificate is only created for
                        the public-* hostname and the custom domain.
                      maxLength: 255
                      type: string
                    disable_replication_factor_adjustment:
                      description:
                        "Disable automatic replication factor adjustment
                        for multi-node services. By default, Aiven ensures all indexes
                        are replicated at least to two nodes. Note: Due to potential
                        data loss in case of losing a service node, this setting can
                        not be activated unless specifically allowed for the project."
                      type: boolean
                    gcs_migration:
                      description: Google Cloud Storage migration settings
                      properties:
                        base_path:
                          description:
                            The path to the repository data within its container.
                            The value of this setting should not start or end with a
                            /
                          pattern: ^[^\r\n]*$
                          type: string
                        bucket:
                          description: The path to the repository data within its container
                          pattern: ^[^\r\n]*$
                          type: string
                        chunk_size:
                          description:
                            Big files can be broken down into chunks during
                            snapshotting if needed. Should be the same as for the 3rd
                            party repository
                          pattern: ^[^\r\n]*$
                          type: string
                        compress:
                          description:
                            when set to true metadata files are stored in
                            compressed format
                          type: boolean
                        credentials:
                          description: Google Cloud Storage credentials file content
                          pattern: ^[^\r\n]*$
                          type: string
                        include_aliases:
                          description:
                            Whether to restore aliases alongside their associated
                            indexes. Default is true.
                          type: boolean
                        indices:
                          description:
                            A comma-delimited list of indices to restore
                            from the snapshot. Multi-index syntax is supported.
                          pattern: ^(\*?[a-z0-9._-]*\*?|-\*?[a-z0-9._-]*\*?)(,(\*?[a-z0-9._-]*\*?|-\*?[a-z0-9._-]*\*?))*[,]?$
                          type: string
                        readonly:
                          description: Whether the repository is read-only.
                          type: boolean
                        restore_global_state:
                          description:
                            If true, restore the cluster state. Defaults
                            to false
                          type: boolean
                        snapshot_name:
                          description: The snapshot name to restore from
                          pattern: ^[^\r\n]*$
                          type: string
                      required:
                        - base_path
                        - bucket
                        - credentials
                        - indices
                        - snapshot_name
                      type: object
                    index_patterns:
                      description: Index patterns
                      items:
                        description:
                          "Allows you to create glob style patterns and set
                          a max number of indexes matching this pattern you want to
                          keep. Creating indexes exceeding this value will cause the
                          oldest one to get deleted. You could for example create a
                          pattern looking like 'logs.?' and then create index logs.1,
                          logs.2 etc, it will delete logs.1 once you create logs.6.
                          Do note 'logs.?' does not apply to logs.10. Note: Setting
                          max_index_count to 0 will do nothing and the pattern gets
                          ignored."
                        properties:
                          max_index_count:
                            description: Maximum number of indexes to keep
                            minimum: 0
                            type: integer
                          pattern:
                            description: fnmatch pattern
                            maxLength: 1024
                            pattern: ^[A-Za-z0-9-_.*?]+$
                            type: string
                          sorting_algorithm:
                            description: Deletion sorting algorithm
                            enum:
                              - alphabetical
                              - creation_date
                            type: string
                        required:
                          - max_index_count
                          - pattern
                        type: object
                      maxItems: 512
                      type: array
                    index_rollup:
                      description: Index rollup settings
                      properties:
                        rollup_dashboards_enabled:
                          description:
                            Whether rollups are enabled in OpenSearch Dashboards.
                            Defaults to true.
                          type: boolean
                        rollup_enabled:
                          description:
                            Whether the rollup plugin is enabled. Defaults
                            to true.
                          type: boolean
                        rollup_search_backoff_count:
                          description:
                            How many retries the plugin should attempt for
                            failed rollup jobs. Defaults to 5.
                          minimum: 1
                          type: integer
                        rollup_search_backoff_millis:
                          description:
                            The backoff time between retries for failed rollup
                            jobs. Defaults to 1000ms.
                          minimum: 1
                          type: integer
                        rollup_search_search_all_jobs:
                          description:
                            Whether OpenSearch should return all jobs that
                            match all specified search terms. If disabled, OpenSearch
                            returns just one, as opposed to all, of the jobs that matches
                            the search terms. Defaults to false.
                          type: boolean
                      type: object
                    index_template:
                      description: Template settings for all new indexes
                      properties:
                        mapping_nested_objects_limit:
                          description:
                            The maximum number of nested JSON objects that
                            a single document can contain across all nested types. This
                            limit helps to prevent out of memory errors when a document
                            contains too many nested objects. Default is 10000. Deprecated,
                            use an index template instead.
                          maximum: 100000
                          minimum: 0
                          type: integer
                        number_of_replicas:
                          description:
                            The number of replicas each primary shard has.
                            Deprecated, use an index template instead.
                          maximum: 29
                          minimum: 0
                          type: integer
                        number_of_shards:
                          description:
                            The number of primary shards that an index should
                            have. Deprecated, use an index template instead.
                          maximum: 1024
                          minimum: 1
                          type: integer
                      type: object
                    ip_filter:
                      description:
                        Allow incoming connections from CIDR address block,
                        e.g. '10.20.0.0/16'
                      items:
                        description:
                          CIDR address block, either as a string, or in a
                          dict with an optional description field
                        properties:
                          description:
                            description: Description for IP filter list entry
                            maxLength: 1024
                            type: string
                          network:
                            description: CIDR address block
                            maxLength: 43
                            type: string
                        required:
                          - network
                        type: object
                      maxItems: 8000
                      type: array
                    jwt:
                      description: OpenSearch JWT Configuration
                      properties:
                        enabled:
                          description:
                            Enables or disables JWT-based authentication
                            for OpenSearch. When enabled, users can authenticate using
                            JWT tokens.
                          type: boolean
                        jwt_clock_skew_tolerance_seconds:
                          description:
                            The maximum allowed time difference in seconds
                            between the JWT issuer's clock and the OpenSearch server's
                            clock. This helps prevent token validation failures due
                            to minor time synchronization issues.
                          maximum: 300
                          minimum: 0
                          type: integer
                        jwt_header:
                          description:
                            The HTTP header name where the JWT token is transmitted.
                            Typically 'Authorization' for Bearer tokens.
                          maxLength: 256
                          minLength: 1
                          pattern: ^[^\r\n]*$
                          type: string
                        jwt_url_parameter:
                          description:
                            If the JWT token is transmitted as a URL parameter
                            instead of an HTTP header, specify the parameter name here.
                          maxLength: 256
                          minLength: 1
                          pattern: ^[^\r\n]*$
                          type: string
                        required_audience:
                          description:
                            If specified, the JWT must contain an 'aud' claim
                            that matches this value. This provides additional security
                            by ensuring the JWT was issued for the expected audience.
                          maxLength: 1024
                          minLength: 1
                          pattern: ^[^\r\n]*$
                          type: string
                        required_issuer:
                          description:
                            If specified, the JWT must contain an 'iss' claim
                            that matches this value. This provides additional security
                            by ensuring the JWT was issued by the expected issuer.
                          maxLength: 1024
                          minLength: 1
                          pattern: ^[^\r\n]*$
                          type: string
                        roles_key:
                          description:
                            The key in the JWT payload that contains the
                            user's roles. If specified, roles will be extracted from
                            the JWT for authorization.
                          maxLength: 256
                          minLength: 1
                          pattern: ^[^\r\n]*$
                          type: string
                        signing_key:
                          description:
                            The secret key used to sign and verify JWT tokens.
                            This should be a secure, randomly generated key HMAC key
                            or public RSA/ECDSA key.
                          maxLength: 1024
                          minLength: 1
                          type: string
                        subject_key:
                          description:
                            The key in the JWT payload that contains the
                            user's subject identifier. If not specified, the 'sub' claim
                            is used by default.
                          maxLength: 256
                          minLength: 1
                          pattern: ^[^\r\n]*$
                          type: string
                      required:
                        - enabled
                        - signing_key
                      type: object
                    keep_index_refresh_interval:
                      description:
                        Aiven automation resets index.refresh_interval to
                        default value for every index to be sure that indices are always
                        visible to search. If it doesn't fit your case, you can disable
                        this by setting up this flag to true.
                      type: boolean
                    max_index_count:
                      description: "DEPRECATED: use index_patterns instead"
                      minimum: 0
                      type: integer
                    openid:
                      description: OpenSearch OpenID Connect Configuration
                      properties:
                        client_id:
                          description:
                            The ID of the OpenID Connect client configured
                            in your IdP. Required.
                          maxLength: 1024
                          minLength: 1
                          pattern: ^[^\r\n]*$
                          type: string
                        client_secret:
                          description:
                            The client secret of the OpenID Connect client
                            configured in your IdP. Required.
                          maxLength: 1024
                          minLength: 1
                          pattern: ^[^\r\n]*$
                          type: string
                        connect_url:
                          description:
                            The URL of your IdP where the Security plugin
                            can find the OpenID Connect metadata/configuration settings.
                          maxLength: 2048
                          pattern: ^[^\r\n]*$
                          type: string
                        enabled:
                          description:
                            Enables or disables OpenID Connect authentication
                            for OpenSearch. When enabled, users can authenticate using
                            OpenID Connect with an Identity Provider.
                          type: boolean
                        header:
                          description:
                            HTTP header name of the JWT token. Optional.
                            Default is Authorization.
                          maxLength: 1024
                          minLength: 1
                          pattern: ^[^\r\n]*$
                          type: string
                        jwt_header:
                          description:
                            "The HTTP header that stores the token. Typically
                            the Authorization header with the Bearer schema: Authorization:
                            Bearer <token>. Optional. Default is Authorization."
                          maxLength: 1024
                          minLength: 1
                          pattern: ^[^\r\n]*$
                          type: string
                        jwt_url_parameter:
                          description:
                            If the token is not transmitted in the HTTP header,
                            but as an URL parameter, define the name of the parameter
                            here. Optional.
                          maxLength: 1024
                          minLength: 1
                          pattern: ^[^\r\n]*$
                          type: string
                        refresh_rate_limit_count:
                          description:
                            The maximum number of unknown key IDs in the
                            time frame. Default is 10. Optional.
                          minimum: 10
                          type: integer
                        refresh_rate_limit_time_window_ms:
                          description:
                            The time frame to use when checking the maximum
                            number of unknown key IDs, in milliseconds. Optional.Default
                            is 10000 (10 seconds).
                          minimum: 10000
                          type: integer
                        roles_key:
                          description:
                            The key in the JSON payload that stores the user’s
                            roles. The value of this key must be a comma-separated list
                            of roles. Required only if you want to use roles in the
                            JWT
                          maxLength: 1024
                          minLength: 1
                          pattern: ^[^\r\n]*$
                          type: string
                        scope:
                          description:
                            The scope of the identity token issued by the
                            IdP. Optional. Default is openid profile email address phone.
                          maxLength: 1024
                          minLength: 1
                          pattern: ^[^\r\n]*$
                          type: string
                        subject_key:
                          description:
                            The key in the JSON payload that stores the user’s
                            name. If not defined, the subject registered claim is used.
                            Most IdP providers use the preferred_username claim. Optional.
                          maxLength: 1024
                          minLength: 1
                          pattern: ^[^\r\n]*$
                          type: string
                      required:
                        - client_id
                        - client_secret
                        - connect_url
                        - enabled
                      type: object
                    opensearch:
                      description: OpenSearch settings
                      properties:
                        action_auto_create_index_enabled:
                          description:
                            Explicitly allow or block automatic creation
                            of indices. Defaults to true
                          type: boolean
                        action_destructive_requires_name:
                          description: Require explicit index names when deleting
                          type: boolean
                        auth_failure_listeners:
                          description: Opensearch Security Plugin Settings
                          properties:
                            internal_authentication_backend_limiting:
                              properties:
                                allowed_tries:
                                  description:
                                    The number of login attempts allowed
                                    before login is blocked
                                  maximum: 32767
                                  minimum: 1
                                  type: integer
                                authentication_backend:
                                  description: internal_authentication_backend_limiting.authentication_backend
                                  enum:
                                    - internal
                                  maxLength: 1024
                                  type: string
                                block_expiry_seconds:
                                  description:
                                    The duration of time that login remains
                                    blocked after a failed login
                                  maximum: 2147483647
                                  minimum: 0
                                  type: integer
                                max_blocked_clients:
                                  description: internal_authentication_backend_limiting.max_blocked_clients
                                  maximum: 2147483647
                                  minimum: 0
                                  type: integer
                                max_tracked_clients:
                                  description:
                                    The maximum number of tracked IP addresses
                                    that have failed login
                                  maximum: 2147483647
                                  minimum: 0
                                  type: integer
                                time_window_seconds:
                                  description:
                                    The window of time in which the value
                                    for `allowed_tries` is enforced
                                  maximum: 2147483647
                                  minimum: 0
                                  type: integer
                                type:
                                  description: internal_authentication_backend_limiting.type
                                  enum:
                                    - username
                                  maxLength: 1024
                                  type: string
                              type: object
                            ip_rate_limiting:
                              description: Deprecated. IP address rate limiting settings
                              properties:
                                allowed_tries:
                                  description:
                                    The number of login attempts allowed
                                    before login is blocked
                                  maximum: 2147483647
                                  minimum: 1
                                  type: integer
                                block_expiry_seconds:
                                  description:
                                    The duration of time that login remains
                                    blocked after a failed login
                                  maximum: 36000
                                  minimum: 0
                                  type: integer
                                max_blocked_clients:
                                  description: The maximum number of blocked IP addresses
                                  maximum: 2147483647
                                  minimum: 0
                                  type: integer
                                max_tracked_clients:
                                  description:
                                    The maximum number of tracked IP addresses
                                    that have failed login
                                  maximum: 2147483647
                                  minimum: 0
                                  type: integer
                                time_window_seconds:
                                  description:
                                    The window of time in which the value
                                    for `allowed_tries` is enforced
                                  maximum: 36000
                                  minimum: 0
                                  type: integer
                                type:
                                  description: The type of rate limiting
                                  enum:
                                    - ip
                                  maxLength: 1024
                                  type: string
                              type: object
                          type: object
                        cluster.filecache.remote_data_ratio:
                          description:
                            Defines a limit of how much total remote data
                            can be referenced as a ratio of the size of the disk reserved
                            for the file cache. This is designed to be a safeguard to
                            prevent oversubscribing a cluster. Defaults to 0.
                          maximum: 100
                          minimum: 0
                          type: number
                        cluster.remote_store:
                          properties:
                            state.global_metadata.upload_timeout:
                              description:
                                The amount of time to wait for the cluster
                                state upload to complete. Defaults to 20s.
                              pattern: \d+(?:d|h|m|s|ms|micros|nanos)
                              type: string
                            state.metadata_manifest.upload_timeout:
                              description:
                                The amount of time to wait for the manifest
                                file upload to complete. The manifest file contains
                                the details of each of the files uploaded for a single
                                cluster state, both index metadata files and global
                                metadata files. Defaults to 20s.
                              pattern: \d+(?:d|h|m|s|ms|micros|nanos)
                              type: string
                            translog.buffer_interval:
                              description:
                                The default value of the translog buffer
                                interval used when performing periodic translog updates.
                                This setting is only effective when the index setting
                                `index.remote_store.translog.buffer_interval` is not
                                present. Defaults to 650ms.
                              pattern: \d+(?:d|h|m|s|ms|micros|nanos)
                              type: string
                            translog.max_readers:
                              description:
                                Sets the maximum number of open translog
                                files for remote-backed indexes. This limits the total
                                number of translog files per shard. After reaching this
                                limit, the remote store flushes the translog files.
                                Default is 1000. The minimum required is 100.
                              maximum: 2147483647
                              minimum: 100
                              type: integer
                          type: object
                        cluster.routing.allocation.balance.prefer_primary:
                          description:
                            When set to true, OpenSearch attempts to evenly
                            distribute the primary shards between the cluster nodes.
                            Enabling this setting does not always guarantee an equal
                            number of primary shards on each node, especially in the
                            event of a failover. Changing this setting to false after
                            it was set to true does not invoke redistribution of primary
                            shards. Default is false.
                          type: boolean
                        cluster.search.request.slowlog:
                          properties:
                            level:
                              description: Log level
                              enum:
                                - debug
                                - info
                                - trace
                                - warn
                              type: string
                            threshold:
                              properties:
                                debug:
                                  description:
                                    Debug threshold for total request took
                                    time. The value should be in the form count and
                                    unit, where unit one of (s,m,h,d,nanos,ms,micros)
                                    or -1. Default is -1
                                  pattern: ^[^\r\n]*$
                                  type: string
                                info:
                                  description:
                                    Info threshold for total request took
                                    time. The value should be in the form count and
                                    unit, where unit one of (s,m,h,d,nanos,ms,micros)
                                    or -1. Default is -1
                                  pattern: ^[^\r\n]*$
                                  type: string
                                trace:
                                  description:
                                    Trace threshold for total request took
                                    time. The value should be in the form count and
                                    unit, where unit one of (s,m,h,d,nanos,ms,micros)
                                    or -1. Default is -1
                                  pattern: ^[^\r\n]*$
                                  type: string
                                warn:
                                  description:
                                    Warning threshold for total request took
                                    time. The value should be in the form count and
                                    unit, where unit one of (s,m,h,d,nanos,ms,micros)
                                    or -1. Default is -1
                                  pattern: ^[^\r\n]*$
                                  type: string
                              type: object
                          type: object
                        cluster_max_shards_per_node:
                          description:
                            Controls the number of shards allowed in the
                            cluster per data node
                          maximum: 10000
                          minimum: 100
                          type: integer
                        cluster_routing_allocation_node_concurrent_recoveries:
                          description:
                            How many concurrent incoming/outgoing shard recoveries
                            (normally replicas) are allowed to happen on a node. Defaults
                            to node cpu count * 2.
                          maximum: 16
                          minimum: 2
                          type: integer
                        disk_watermarks:
                          description: Watermark settings
                          properties:
                            flood_stage:
                              description: The flood stage watermark for disk usage.
                              type: integer
                            high:
                              description: The high watermark for disk usage.
                              type: integer
                            low:
                              description: The low watermark for disk usage.
                              type: integer
                          required:
                            - flood_stage
                            - high
                            - low
                          type: object
                        email_sender_name:
                          description:
                            Sender name placeholder to be used in Opensearch
                            Dashboards and Opensearch keystore
                          maxLength: 40
                          pattern: ^[a-zA-Z0-9-_]+$
                          type: string
                        email_sender_password:
                          description:
                            Sender password for Opensearch alerts to authenticate
                            with SMTP server
                          maxLength: 1024
                          pattern: ^[^\x00-\x1F]+$
                          type: string
                        email_sender_username:
                          description: Sender username for Opensearch alerts
                          maxLength: 320
                          pattern: ^[^\x00-\x1F]+$
                          type: string
                        enable_remote_backed_storage:
                          description: Enable remote-backed storage
                          type: boolean
                        enable_searchable_snapshots:
                          description: Enable searchable snapshots
                          type: boolean
                        enable_security_audit:
                          description: Enable/Disable security audit
                          type: boolean
                        enable_snapshot_api:
                          description:
                            Enable/Disable snapshot API for custom repositories,
                            this requires security management to be enabled
                          type: boolean
                        http_max_content_length:
                          description:
                            Maximum content length for HTTP requests to the
                            OpenSearch HTTP API, in bytes.
                          maximum: 2147483647
                          minimum: 1
                          type: integer
                        http_max_header_size:
                          description: The max size of allowed headers, in bytes
                          maximum: 262144
                          minimum: 1024
                          type: integer
                        http_max_initial_line_length:
                          description: The max length of an HTTP URL, in bytes
                          maximum: 65536
                          minimum: 1024
                          type: integer
                        indices_fielddata_cache_size:
                          description:
                            Relative amount. Maximum amount of heap memory
                            used for field data cache. This is an expert setting; decreasing
                            the value too much will increase overhead of loading field
                            data; too much memory used for field data cache will decrease
                            amount of heap available for other operations.
                          maximum: 100
                          minimum: 3
                          type: integer
                        indices_memory_index_buffer_size:
                          description:
                            Percentage value. Default is 10%. Total amount
                            of heap used for indexing buffer, before writing segments
                            to disk. This is an expert setting. Too low value will slow
                            down indexing; too high value will increase indexing performance
                            but causes performance issues for query performance.
                          maximum: 40
                          minimum: 3
                          type: integer
                        indices_memory_max_index_buffer_size:
                          description:
                            Absolute value. Default is unbound. Doesn't work
                            without indices.memory.index_buffer_size. Maximum amount
                            of heap used for query cache, an absolute indices.memory.index_buffer_size
                            maximum hard limit.
                          maximum: 2048
                          minimum: 3
                          type: integer
                        indices_memory_min_index_buffer_size:
                          description:
                            Absolute value. Default is 48mb. Doesn't work
                            without indices.memory.index_buffer_size. Minimum amount
                            of heap used for query cache, an absolute indices.memory.index_buffer_size
                            minimal hard limit.
                          maximum: 2048
                          minimum: 3
                          type: integer
                        indices_queries_cache_size:
                          description:
                            Percentage value. Default is 10%. Maximum amount
                            of heap used for query cache. This is an expert setting.
                            Too low value will decrease query performance and increase
                            performance for other operations; too high value will cause
                            issues with other OpenSearch functionality.
                          maximum: 40
                          minimum: 3
                          type: integer
                        indices_query_bool_max_clause_count:
                          description:
                            Maximum number of clauses Lucene BooleanQuery
                            can have. The default value (1024) is relatively high, and
                            increasing it may cause performance issues. Investigate
                            other approaches first before increasing this value.
                          maximum: 4096
                          minimum: 64
                          type: integer
                        indices_recovery_max_bytes_per_sec:
                          description:
                            Limits total inbound and outbound recovery traffic
                            for each node. Applies to both peer recoveries as well as
                            snapshot recoveries (i.e., restores from a snapshot). Defaults
                            to 40mb
                          maximum: 400
                          minimum: 40
                          type: integer
                        indices_recovery_max_concurrent_file_chunks:
                          description:
                            Number of file chunks sent in parallel for each
                            recovery. Defaults to 2.
                          maximum: 5
                          minimum: 2
                          type: integer
                        ism_enabled:
                          description: Specifies whether ISM is enabled or not
                          type: boolean
                        ism_history_enabled:
                          description:
                            Specifies whether audit history is enabled or
                            not. The logs from ISM are automatically indexed to a logs
                            document.
                          type: boolean
                        ism_history_max_age:
                          description:
                            The maximum age before rolling over the audit
                            history index in hours
                          maximum: 2147483647
                          minimum: 1
                          type: integer
                        ism_history_max_docs:
                          description:
                            The maximum number of documents before rolling
                            over the audit history index.
                          minimum: 1
                          type: integer
                        ism_history_rollover_check_period:
                          description:
                            The time between rollover checks for the audit
                            history index in hours.
                          maximum: 2147483647
                          minimum: 1
                          type: integer
                        ism_history_rollover_retention_period:
                          description: How long audit history indices are kept in days.
                          maximum: 2147483647
                          minimum: 1
                          type: integer
                        knn_memory_circuit_breaker_enabled:
                          description:
                            Enable or disable KNN memory circuit breaker.
                            Defaults to true.
                          type: boolean
                        knn_memory_circuit_breaker_limit:
                          description:
                            Maximum amount of memory in percentage that can
                            be used for the KNN index. Defaults to 50% of the JVM heap
                            size. 0 is used to set it to null which can be used to invalidate
                            caches.
                          maximum: 100
                          minimum: 0
                          type: integer
                        node.search.cache.size:
                          description:
                            Defines a limit of how much total remote data
                            can be referenced as a ratio of the size of the disk reserved
                            for the file cache. This is designed to be a safeguard to
                            prevent oversubscribing a cluster. Defaults to 5gb. Requires
                            restarting all OpenSearch nodes.
                          pattern: \d+(?:b|kb|mb|gb|tb)
                          type: string
                        override_main_response_version:
                          description:
                            Compatibility mode sets OpenSearch to report
                            its version as 7.10 so clients continue to work. Default
                            is false
                          type: boolean
                        plugins_alerting_filter_by_backend_roles:
                          description:
                            Enable or disable filtering of alerting by backend
                            roles. Requires Security plugin. Defaults to false
                          type: boolean
                        reindex_remote_whitelist:
                          description:
                            Whitelisted addresses for reindexing. Changing
                            this value will cause all OpenSearch instances to restart.
                          items:
                            type: string
                          maxItems: 32
                          type: array
                        remote_store:
                          properties:
                            segment.pressure.bytes_lag.variance_factor:
                              description:
                                The variance factor that is used together
                                with the moving average to calculate the dynamic bytes
                                lag threshold for activating remote segment backpressure.
                                Defaults to 10.
                              minimum: 1
                              type: number
                            segment.pressure.consecutive_failures.limit:
                              description:
                                The minimum consecutive failure count for
                                activating remote segment backpressure. Defaults to
                                5.
                              maximum: 2147483647
                              minimum: 1
                              type: integer
                            segment.pressure.enabled:
                              description:
                                Enables remote segment backpressure. Default
                                is `true`
                              type: boolean
                            segment.pressure.time_lag.variance_factor:
                              description:
                                The variance factor that is used together
                                with the moving average to calculate the dynamic time
                                lag threshold for activating remote segment backpressure.
                                Defaults to 10.
                              minimum: 1
                              type: number
                          type: object
                        script_max_compilations_rate:
                          description:
                            Script compilation circuit breaker limits the
                            number of inline script compilations within a period of
                            time. Default is use-context
                          maxLength: 1024
                          pattern: ^[^\r\n]*$
                          type: string
                        search.insights.top_queries:
                          properties:
                            cpu:
                              description: Top N queries monitoring by CPU
                              properties:
                                enabled:
                                  description:
                                    Enable or disable top N query monitoring
                                    by the metric
                                  type: boolean
                                top_n_size:
                                  description:
                                    Specify the value of N for the top N
                                    queries by the metric
                                  minimum: 1
                                  type: integer
                                window_size:
                                  description:
                                    The window size of the top N queries
                                    by the metric
                                  pattern: ^(\*?[a-z0-9._-]*\*?|-\*?[a-z0-9._-]*\*?)(,(\*?[a-z0-9._-]*\*?|-\*?[a-z0-9._-]*\*?))*[,]?$
                                  type: string
                              type: object
                            latency:
                              description: Top N queries monitoring by latency
                              properties:
                                enabled:
                                  description:
                                    Enable or disable top N query monitoring
                                    by the metric
                                  type: boolean
                                top_n_size:
                                  description:
                                    Specify the value of N for the top N
                                    queries by the metric
                                  minimum: 1
                                  type: integer
                                window_size:
                                  description:
                                    The window size of the top N queries
                                    by the metric
                                  pattern: ^(\*?[a-z0-9._-]*\*?|-\*?[a-z0-9._-]*\*?)(,(\*?[a-z0-9._-]*\*?|-\*?[a-z0-9._-]*\*?))*[,]?$
                                  type: string
                              type: object
                            memory:
                              description: Top N queries monitoring by memory
                              properties:
                                enabled:
                                  description:
                                    Enable or disable top N query monitoring
                                    by the metric
                                  type: boolean
                                top_n_size:
                                  description:
                                    Specify the value of N for the top N
                                    queries by the metric
                                  minimum: 1
                                  type: integer
                                window_size:
                                  description:
                                    The window size of the top N queries
                                    by the metric
                                  pattern: ^(\*?[a-z0-9._-]*\*?|-\*?[a-z0-9._-]*\*?)(,(\*?[a-z0-9._-]*\*?|-\*?[a-z0-9._-]*\*?))*[,]?$
                                  type: string
                              type: object
                          type: object
                        search_backpressure:
                          description: Search Backpressure Settings
                          properties:
                            mode:
                              description:
                                The search backpressure mode. Valid values
                                are monitor_only, enforced, or disabled. Default is
                                monitor_only
                              enum:
                                - disabled
                                - enforced
                                - monitor_only
                              type: string
                            node_duress:
                              description: Node duress settings
                              properties:
                                cpu_threshold:
                                  description:
                                    The CPU usage threshold (as a percentage)
                                    required for a node to be considered to be under
                                    duress. Default is 0.9
                                  maximum: 1
                                  minimum: 0
                                  type: number
                                heap_threshold:
                                  description:
                                    The heap usage threshold (as a percentage)
                                    required for a node to be considered to be under
                                    duress. Default is 0.7
                                  maximum: 1
                                  minimum: 0
                                  type: number
                                num_successive_breaches:
                                  description:
                                    The number of successive limit breaches
                                    after which the node is considered to be under duress.
                                    Default is 3
                                  minimum: 1
                                  type: integer
                              type: object
                            search_shard_task:
                              description: Search shard settings
                              properties:
                                cancellation_burst:
                                  description:
                                    The maximum number of search tasks to
                                    cancel in a single iteration of the observer thread.
                                    Default is 10.0
                                  minimum: 1
                                  type: number
                                cancellation_rate:
                                  description:
                                    The maximum number of tasks to cancel
                                    per millisecond of elapsed time. Default is 0.003
                                  minimum: 0
                                  type: number
                                cancellation_ratio:
                                  description:
                                    The maximum number of tasks to cancel,
                                    as a percentage of successful task completions.
                                    Default is 0.1
                                  maximum: 1
                                  minimum: 0
                                  type: number
                                cpu_time_millis_threshold:
                                  description:
                                    The CPU usage threshold (in milliseconds)
                                    required for a single search shard task before it
                                    is considered for cancellation. Default is 15000
                                  minimum: 0
                                  type: integer
                                elapsed_time_millis_threshold:
                                  description:
                                    The elapsed time threshold (in milliseconds)
                                    required for a single search shard task before it
                                    is considered for cancellation. Default is 30000
                                  minimum: 0
                                  type: integer
                                heap_moving_average_window_size:
                                  description:
                                    The number of previously completed search
                                    shard tasks to consider when calculating the rolling
                                    average of heap usage. Default is 100
                                  minimum: 0
                                  type: integer
                                heap_percent_threshold:
                                  description:
                                    The heap usage threshold (as a percentage)
                                    required for a single search shard task before it
                                    is considered for cancellation. Default is 0.5
                                  maximum: 1
                                  minimum: 0
                                  type: number
                                heap_variance:
                                  description:
                                    The minimum variance required for a single
                                    search shard task’s heap usage compared to the rolling
                                    average of previously completed tasks before it
                                    is considered for cancellation. Default is 2.0
                                  minimum: 0
                                  type: number
                                total_heap_percent_threshold:
                                  description:
                                    The heap usage threshold (as a percentage)
                                    required for the sum of heap usages of all search
                                    shard tasks before cancellation is applied. Default
                                    is 0.5
                                  maximum: 1
                                  minimum: 0
                                  type: number
                              type: object
                            search_task:
                              description: Search task settings
                              properties:
                                cancellation_burst:
                                  description:
                                    The maximum number of search tasks to
                                    cancel in a single iteration of the observer thread.
                                    Default is 5.0
                                  minimum: 1
                                  type: number
                                cancellation_rate:
                                  description:
                                    The maximum number of search tasks to
                                    cancel per millisecond of elapsed time. Default
                                    is 0.003
                                  minimum: 0
                                  type: number
                                cancellation_ratio:
                                  description:
                                    The maximum number of search tasks to
                                    cancel, as a percentage of successful search task
                                    completions. Default is 0.1
                                  maximum: 1
                                  minimum: 0
                                  type: number
                                cpu_time_millis_threshold:
                                  description:
                                    The CPU usage threshold (in milliseconds)
                                    required for an individual parent task before it
                                    is considered for cancellation. Default is 30000
                                  minimum: 0
                                  type: integer
                                elapsed_time_millis_threshold:
                                  description:
                                    The elapsed time threshold (in milliseconds)
                                    required for an individual parent task before it
                                    is considered for cancellation. Default is 45000
                                  minimum: 0
                                  type: integer
                                heap_moving_average_window_size:
                                  description:
                                    The window size used to calculate the
                                    rolling average of the heap usage for the completed
                                    parent tasks. Default is 10
                                  minimum: 0
                                  type: integer
                                heap_percent_threshold:
                                  description:
                                    The heap usage threshold (as a percentage)
                                    required for an individual parent task before it
                                    is considered for cancellation. Default is 0.2
                                  maximum: 1
                                  minimum: 0
                                  type: number
                                heap_variance:
                                  description:
                                    The heap usage variance required for
                                    an individual parent task before it is considered
                                    for cancellation. A task is considered for cancellation
                                    when taskHeapUsage is greater than or equal to heapUsageMovingAverage
                                    * variance. Default is 2.0
                                  minimum: 0
                                  type: number
                                total_heap_percent_threshold:
                                  description:
                                    The heap usage threshold (as a percentage)
                                    required for the sum of heap usages of all search
                                    tasks before cancellation is applied. Default is
                                    0.5
                                  maximum: 1
                                  minimum: 0
                                  type: number
                              type: object
                          type: object
                        search_max_buckets:
                          description:
                            Maximum number of aggregation buckets allowed
                            in a single response. OpenSearch default value is used when
                            this is not defined.
                          maximum: 1000000
                          minimum: 1
                          type: integer
                        segrep:
                          description: Segment Replication Backpressure Settings
                          properties:
                            pressure.checkpoint.limit:
                              description:
                                The maximum number of indexing checkpoints
                                that a replica shard can fall behind when copying from
                                primary. Once `segrep.pressure.checkpoint.limit` is
                                breached along with `segrep.pressure.time.limit`, the
                                segment replication backpressure mechanism is initiated.
                                Default is 4 checkpoints.
                              minimum: 0
                              type: integer
                            pressure.enabled:
                              description:
                                Enables the segment replication backpressure
                                mechanism. Default is false.
                              type: boolean
                            pressure.replica.stale.limit:
                              description:
                                The maximum number of stale replica shards
                                that can exist in a replication group. Once `segrep.pressure.replica.stale.limit`
                                is breached, the segment replication backpressure mechanism
                                is initiated. Default is .5, which is 50% of a replication
                                group.
                              maximum: 1
                              minimum: 0
                              type: number
                            pressure.time.limit:
                              description:
                                The maximum amount of time that a replica
                                shard can take to copy from the primary shard. Once
                                segrep.pressure.time.limit is breached along with segrep.pressure.checkpoint.limit,
                                the segment replication backpressure mechanism is initiated.
                                Default is 5 minutes.
                              pattern: ^\d+\s*(?:[dhms]|ms|micros|nanos)$
                              type: string
                          type: object
                        shard_indexing_pressure:
                          description: Shard indexing back pressure settings
                          properties:
                            enabled:
                              description:
                                Enable or disable shard indexing backpressure.
                                Default is false
                              type: boolean
                            enforced:
                              description:
                                Run shard indexing backpressure in shadow
                                mode or enforced mode. In shadow mode (value set as
                                false), shard indexing backpressure tracks all granular-level
                                metrics, but it doesn’t actually reject any indexing
                                requests. In enforced mode (value set as true), shard
                                indexing backpressure rejects any requests to the cluster
                                that might cause a dip in its performance. Default is
                                false
                              type: boolean
                            operating_factor:
                              description: Operating factor
                              properties:
                                lower:
                                  description:
                                    Specify the lower occupancy limit of
                                    the allocated quota of memory for the shard. If
                                    the total memory usage of a shard is below this
                                    limit, shard indexing backpressure decreases the
                                    current allocated memory for that shard. Default
                                    is 0.75
                                  minimum: 0
                                  type: number
                                optimal:
                                  description:
                                    Specify the optimal occupancy of the
                                    allocated quota of memory for the shard. If the
                                    total memory usage of a shard is at this level,
                                    shard indexing backpressure doesn’t change the current
                                    allocated memory for that shard. Default is 0.85
                                  minimum: 0
                                  type: number
                                upper:
                                  description:
                                    Specify the upper occupancy limit of
                                    the allocated quota of memory for the shard. If
                                    the total memory usage of a shard is above this
                                    limit, shard indexing backpressure increases the
                                    current allocated memory for that shard. Default
                                    is 0.95
                                  minimum: 0
                                  type: number
                              type: object
                            primary_parameter:
                              description: Primary parameter
                              properties:
                                node:
                                  properties:
                                    soft_limit:
                                      description:
                                        Define the percentage of the node-level
                                        memory threshold that acts as a soft indicator
                                        for strain on a node. Default is 0.7
                                      minimum: 0
                                      type: number
                                  type: object
                                shard:
                                  properties:
                                    min_limit:
                                      description:
                                        Specify the minimum assigned quota
                                        for a new shard in any role (coordinator, primary,
                                        or replica). Shard indexing backpressure increases
                                        or decreases this allocated quota based on the
                                        inflow of traffic for the shard. Default is
                                        0.001
                                      minimum: 0
                                      type: number
                                  type: object
                              type: object
                          type: object
                        thread_pool_analyze_queue_size:
                          description:
                            Size for the thread pool queue. See documentation
                            for exact details.
                          maximum: 2000
                          minimum: 10
                          type: integer
                        thread_pool_analyze_size:
                          description:
                            Size for the thread pool. See documentation for
                            exact details. Do note this may have maximum value depending
                            on CPU count - value is automatically lowered if set to
                            higher than maximum value.
                          maximum: 128
                          minimum: 1
                          type: integer
                        thread_pool_force_merge_size:
                          description:
                            Size for the thread pool. See documentation for
                            exact details. Do note this may have maximum value depending
                            on CPU count - value is automatically lowered if set to
                            higher than maximum value.
                          maximum: 128
                          minimum: 1
                          type: integer
                        thread_pool_get_queue_size:
                          description:
                            Size for the thread pool queue. See documentation
                            for exact details.
                          maximum: 2000
                          minimum: 10
                          type: integer
                        thread_pool_get_size:
                          description:
                            Size for the thread pool. See documentation for
                            exact details. Do note this may have maximum value depending
                            on CPU count - value is automatically lowered if set to
                            higher than maximum value.
                          maximum: 128
                          minimum: 1
                          type: integer
                        thread_pool_search_queue_size:
                          description:
                            Size for the thread pool queue. See documentation
                            for exact details.
                          maximum: 2000
                          minimum: 10
                          type: integer
                        thread_pool_search_size:
                          description:
                            Size for the thread pool. See documentation for
                            exact details. Do note this may have maximum value depending
                            on CPU count - value is automatically lowered if set to
                            higher than maximum value.
                          maximum: 128
                          minimum: 1
                          type: integer
                        thread_pool_search_throttled_queue_size:
                          description:
                            Size for the thread pool queue. See documentation
                            for exact details.
                          maximum: 2000
                          minimum: 10
                          type: integer
                        thread_pool_search_throttled_size:
                          description:
                            Size for the thread pool. See documentation for
                            exact details. Do note this may have maximum value depending
                            on CPU count - value is automatically lowered if set to
                            higher than maximum value.
                          maximum: 128
                          minimum: 1
                          type: integer
                        thread_pool_write_queue_size:
                          description:
                            Size for the thread pool queue. See documentation
                            for exact details.
                          maximum: 2000
                          minimum: 10
                          type: integer
                        thread_pool_write_size:
                          description:
                            Size for the thread pool. See documentation for
                            exact details. Do note this may have maximum value depending
                            on CPU count - value is automatically lowered if set to
                            higher than maximum value.
                          maximum: 128
                          minimum: 1
                          type: integer
                      type: object
                    opensearch_dashboards:
                      description: OpenSearch Dashboards settings
                      properties:
                        enabled:
                          description: Enable or disable OpenSearch Dashboards
                          type: boolean
                        max_old_space_size:
                          description:
                            "Limits the maximum amount of memory (in MiB)
                            the OpenSearch Dashboards process can use. This sets the
                            max_old_space_size option of the nodejs running the OpenSearch
                            Dashboards. Note: the memory reserved by OpenSearch Dashboards
                            is not available for OpenSearch."
                          maximum: 4096
                          minimum: 64
                          type: integer
                        multiple_data_source_enabled:
                          description:
                            Enable or disable multiple data sources in OpenSearch
                            Dashboards
                          type: boolean
                        opensearch_request_timeout:
                          description:
                            Timeout in milliseconds for requests made by
                            OpenSearch Dashboards towards OpenSearch
                          maximum: 120000
                          minimum: 5000
                          type: integer
                      type: object
                    opensearch_version:
                      description: |-
                        Available versions: `1`, `2`, `2.19`. Newer versions may also be available.
                        OpenSearch version
                      type: string
                    private_access:
                      description:
                        Allow access to selected service ports from private
                        networks
                      properties:
                        opensearch:
                          description:
                            Allow clients to connect to opensearch with a
                            DNS name that always resolves to the service's private IP
                            addresses. Only available in certain network locations
                          type: boolean
                        opensearch_dashboards:
                          description:
                            Allow clients to connect to opensearch_dashboards
                            with a DNS name that always resolves to the service's private
                            IP addresses. Only available in certain network locations
                          type: boolean
                        prometheus:
                          description:
                            Allow clients to connect to prometheus with a
                            DNS name that always resolves to the service's private IP
                            addresses. Only available in certain network locations
                          type: boolean
                      type: object
                    privatelink_access:
                      description:
                        Allow access to selected service components through
                        Privatelink
                      properties:
                        opensearch:
                          description: Enable opensearch
                          type: boolean
                        opensearch_dashboards:
                          description: Enable opensearch_dashboards
                          type: boolean
                        prometheus:
                          description: Enable prometheus
                          type: boolean
                      type: object
                    project_to_fork_from:
                      description:
                        Name of another project to fork a service from. This
                        has effect only when a new service is being created.
                      maxLength: 63
                      pattern: ^[a-z][-a-z0-9]{0,63}$|^$
                      type: string
                      x-kubernetes-validations:
                        - message: Value is immutable
                          rule: self == oldSelf
                    public_access:
                      description:
                        Allow access to selected service ports from the public
                        Internet
                      properties:
                        opensearch:
                          description:
                            Allow clients to connect to opensearch from the
                            public internet for service nodes that are in a project
                            VPC or another type of private network
                          type: boolean
                        opensearch_dashboards:
                          description:
                            Allow clients to connect to opensearch_dashboards
                            from the public internet for service nodes that are in a
                            project VPC or another type of private network
                          type: boolean
                        prometheus:
                          description:
                            Allow clients to connect to prometheus from the
                            public internet for service nodes that are in a project
                            VPC or another type of private network
                          type: boolean
                      type: object
                    recovery_basebackup_name:
                      description: Name of the basebackup to restore in forked service
                      maxLength: 128
                      pattern: ^[a-zA-Z0-9-_:.]+$
                      type: string
                    s3_migration:
                      description: AWS S3 / AWS S3 compatible migration settings
                      properties:
                        access_key:
                          description: AWS Access key
                          pattern: ^[^\r\n]*$
                          type: string
                        base_path:
                          description:
                            The path to the repository data within its container.
                            The value of this setting should not start or end with a
                            /
                          pattern: ^[^\r\n]*$
                          type: string
                        bucket:
                          description: S3 bucket name
                          pattern: ^[^\r\n]*$
                          type: string
                        chunk_size:
                          description:
                            Big files can be broken down into chunks during
                            snapshotting if needed. Should be the same as for the 3rd
                            party repository
                          pattern: ^[^\r\n]*$
                          type: string
                        compress:
                          description:
                            when set to true metadata files are stored in
                            compressed format
                          type: boolean
                        endpoint:
                          description:
                            The S3 service endpoint to connect to. If you
                            are using an S3-compatible service then you should set this
                            to the service’s endpoint
                          pattern: ^[^\r\n]*$
                          type: string
                        include_aliases:
                          description:
                            Whether to restore aliases alongside their associated
                            indexes. Default is true.
                          type: boolean
                        indices:
                          description:
                            A comma-delimited list of indices to restore
                            from the snapshot. Multi-index syntax is supported.
                          pattern: ^(\*?[a-z0-9._-]*\*?|-\*?[a-z0-9._-]*\*?)(,(\*?[a-z0-9._-]*\*?|-\*?[a-z0-9._-]*\*?))*[,]?$
                          type: string
                        readonly:
                          description: Whether the repository is read-only.
                          type: boolean
                        region:
                          description: S3 region
                          pattern: ^[^\r\n]*$
                          type: string
                        restore_global_state:
                          description:
                            If true, restore the cluster state. Defaults
                            to false
                          type: boolean
                        secret_key:
                          description: AWS secret key
                          pattern: ^[^\r\n]*$
                          type: string
                        server_side_encryption:
                          description:
                            When set to true files are encrypted on server
                            side
                          type: boolean
                        snapshot_name:
                          description: The snapshot name to restore from
                          pattern: ^[^\r\n]*$
                          type: string
                      required:
                        - access_key
                        - base_path
                        - bucket
                        - indices
                        - region
                        - secret_key
                        - snapshot_name
                      type: object
                    saml:
                      description: OpenSearch SAML configuration
                      properties:
                        enabled:
                          description:
                            Enables or disables SAML-based authentication
                            for OpenSearch. When enabled, users can authenticate using
                            SAML with an Identity Provider.
                          type: boolean
                        idp_entity_id:
                          description:
                            The unique identifier for the Identity Provider
                            (IdP) entity that is used for SAML authentication. This
                            value is typically provided by the IdP.
                          maxLength: 1024
                          minLength: 1
                          pattern: ^[^\r\n]*$
                          type: string
                        idp_metadata_url:
                          description:
                            The URL of the SAML metadata for the Identity
                            Provider (IdP). This is used to configure SAML-based authentication
                            with the IdP.
                          maxLength: 2048
                          minLength: 1
                          pattern: ^[^\r\n]*$
                          type: string
                        idp_pemtrustedcas_content:
                          description:
                            This parameter specifies the PEM-encoded root
                            certificate authority (CA) content for the SAML identity
                            provider (IdP) server verification. The root CA content
                            is used to verify the SSL/TLS certificate presented by the
                            server.
                          maxLength: 16384
                          type: string
                        roles_key:
                          description:
                            Optional. Specifies the attribute in the SAML
                            response where role information is stored, if available.
                            Role attributes are not required for SAML authentication,
                            but can be included in SAML assertions by most Identity
                            Providers (IdPs) to determine user access levels or permissions.
                          maxLength: 256
                          minLength: 1
                          pattern: ^[^\r\n]*$
                          type: string
                        sp_entity_id:
                          description:
                            The unique identifier for the Service Provider
                            (SP) entity that is used for SAML authentication. This value
                            is typically provided by the SP.
                          maxLength: 1024
                          minLength: 1
                          pattern: ^[^\r\n]*$
                          type: string
                        subject_key:
                          description:
                            Optional. Specifies the attribute in the SAML
                            response where the subject identifier is stored. If not
                            configured, the NameID attribute is used by default.
                          maxLength: 256
                          minLength: 1
                          pattern: ^[^\r\n]*$
                          type: string
                      required:
                        - enabled
                        - idp_entity_id
                        - idp_metadata_url
                        - sp_entity_id
                      type: object
                    service_log:
                      description:
                        Store logs for the service so that they are available
                        in the HTTP API and console.
                      type: boolean
                    service_to_fork_from:
                      description:
                        Name of another service to fork from. This has effect
                        only when a new service is being created.
                      maxLength: 64
                      pattern: ^[a-z][-a-z0-9]{0,63}$|^$
                      type: string
                      x-kubernetes-validations:
                        - message: Value is immutable
                          rule: self == oldSelf
                    static_ips:
                      description: Use static public IP addresses
                      type: boolean
                  type: object
              required:
                - plan
                - project
              type: object
              x-kubernetes-validations:
                - message:
                    connInfoSecretTargetDisabled can only be set during resource
                    creation.
                  rule: has(oldSelf.connInfoSecretTargetDisabled) == has(self.connInfoSecretTargetDisabled)
            status:
              description: ServiceStatus defines the observed state of service
              properties:
                conditions:
                  description:
                    Conditions represent the latest available observations
                    of a service state
                  items:
                    description:
                      "Condition contains details for one aspect of the current
                      state of this API Resource.\n---\nThis struct is intended for
                      direct use as an array at the field path .status.conditions.  For
                      example,\n\n\n\ttype FooStatus struct{\n\t    // Represents the
                      observations of a foo's current state.\n\t    // Known .status.conditions.type
                      are: \"Available\", \"Progressing\", and \"Degraded\"\n\t    //
                      +patchMergeKey=type\n\t    // +patchStrategy=merge\n\t    // +listType=map\n\t
                      \   // +listMapKey=type\n\t    Conditions []metav1.Condition `json:\"conditions,omitempty\"
                      patchStrategy:\"merge\" patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`\n\n\n\t
                      \   // other fields\n\t}"
                    properties:
                      lastTransitionTime:
                        description: |-
                          lastTransitionTime is the last time the condition transitioned from one status to another.
                          This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                        format: date-time
                        type: string
                      message:
                        description: |-
                          message is a human readable message indicating details about the transition.
                          This may be an empty string.
                        maxLength: 32768
                        type: string
                      observedGeneration:
                        description: |-
                          observedGeneration represents the .metadata.generation that the condition was set based upon.
                          For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                          with respect to the current state of the instance.
                        format: int64
                        minimum: 0
                        type: integer
                      reason:
                        description: |-
                          reason contains a programmatic identifier indicating the reason for the condition's last transition.
                          Producers of specific condition types may define expected values and meanings for this field,
                          and whether the values are considered a guaranteed API.
                          The value should be a CamelCase string.
                          This field may not be empty.
                        maxLength: 1024
                        minLength: 1
                        pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                        type: string
                      status:
                        description: status of the condition, one of True, False, Unknown.
                        enum:
                          - "True"
                          - "False"
                          - Unknown
                        type: string
                      type:
                        description: |-
                          type of condition in CamelCase or in foo.example.com/CamelCase.
                          ---
                          Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
                          useful (see .node.status.conditions), the ability to deconflict is important.
                          The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                        maxLength: 316
                        pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                        type: string
                    required:
                      - lastTransitionTime
                      - message
                      - reason
                      - status
                      - type
                    type: object
                  type: array
                state:
                  description: Service state
                  type: string
              type: object
          type: object
      served: true
      storage: true
      subresources:
        status: {}
